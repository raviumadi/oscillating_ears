# Oscillating Bat Ears - Experiments, Simulation and Analyses.

This repository contains the code, data, and results associated with the study:

**"Oscillating Ears Dynamically Transform Echoes in Constant-Frequency Bats."**

Preprint on bioRxiv: [10.1101/2025.06.14.659613](https://doi.org/10.1101/2025.06.14.659613)

This work combines computational simulations and physical experiments to test the hypothesis that oscillatory ear movements in constant-frequency (CF) bats dynamically transform echo signals via Doppler effects. Inspired by Perrine‚Äôs 1944 description of echo transformations due to receiver motion, the study explores the auditory consequences of bat pinna oscillation through binaural simulations and experimental playback using a sinusoidally oscillating reflector.

## Quick Start

Run `init()` from the cloned project directory to add all folders to the `MATLAB` search path.

## Repository Structure

### üìÅ `mat/`

Contains all `MATLAB` scripts.

### üìÅ `audio/`

This folder contains the experimental recordings. Each file corresponds to a playback condition using a stable 80 kHz tone reflected off a subwoofer-mounted oscillating plate, with sweep frequencies between 0 and 30 Hz.

### üìÅ `results/`

Includes figures and numerical outputs generated by both the simulations and the real-world experiments. You‚Äôll find:

- Instantaneous frequency and amplitude disparity plots
- Time-domain waveforms
- Spectrogram overlays
- Summary tables (e.g., `binaural_summary`)
- MATLAB `.fig` files

### üìÅ `src/`

Main scripts and function definitions used in the simulations and analysis.

#### Key scripts:

- `ds_ears_sim_run.m`: Core binaural simulation loop varying ear frequency and excursion.
- `ds_sim_sep_plots.m`: Creates individual plots for each simulation condition.
- `binaural_run_summary_tex.m`: Generates LaTeX-formatted tables from summary CSV.
- `analyse_osclating_reflector.m`: Processes experimental recordings to extract bandwidth and instantaneous frequency.
- `rec_CF_sim.m`: Simulates received CF echoes. Real-time play-rec code.
- `rec_spec_avg.m`: Computes averaged spectrograms across trials.
- `ds_cycling_ears.m` and `ds_cycling_ears_angular_displacement.m`: Supporting simulations for cycling ear kinematics. Development code.

## Requirements

- MATLAB R2021a or newer
- Signal Processing Toolbox

## Usage

To run the full binaural simulation sweep:

```matlab
ds_ears_sim_run
```

To analyse and generate figures from experimental data:
```matlab
analyse_osclating_reflector
```

## **Citation**

If you use this work, please cite:

Umadi, R. (2025). Oscillating Ears Dynamically Transform Echoes in Constant-Frequency Bats. bioRxiv. [10.1101/2025.06.14.659613](https://doi.org/10.1101/2025.06.14.659613)

This work has been submitted to a journal. Please check back again for updated information regarding citation and DOI. 

## License

This work has been issued under *Creative Commons Attribution-NonCommercial 4.0 International Public License*